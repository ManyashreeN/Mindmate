<!DOCTYPE html>
<html>
<head>
  <title>MindMate - Inspiring Stories</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <h1>üåü Inspiring Placement Stories</h1>
  <p>Real journeys. Real motivation.</p>
  <div class="quote" id="quoteBox"></div>
  <div id="storiesContainer"></div>
  <button id="showMoreBtn">Show More Stories</button>

  
  <div class="back-wrapper">
  <a href="index.html" class="back-btn">‚Üê Back to Dashboard</a>
</div>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAAGc7ecwllV_lDS-lOedGgIusj6CVr3iA",
    authDomain: "mindmate-925cb.firebaseapp.com",
    projectId: "mindmate-925cb",
    storageBucket: "mindmate-925cb.appspot.com",
    messagingSenderId: "985607995996",
    appId: "1:985607995996:web:9ed710e18bc5ade43b1c99"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const storiesContainer = document.getElementById("storiesContainer");
  const showMoreBtn = document.getElementById("showMoreBtn");

  let allStories = [];
  let visibleCount = 4;

  async function loadStories() {
    const snapshot = await getDocs(collection(db, "stories"));
    allStories = snapshot.docs.map(doc => doc.data());
    renderStories();
  }

  function renderStories() {
    storiesContainer.innerHTML = "";

    allStories.slice(0, visibleCount).forEach(story => {
      const div = document.createElement("div");
      div.className = "story-card";
      div.innerHTML = `
        <h3>${story.title}</h3>
        <p>${story.content}</p>
        <p class="story-meta">Company: ${story.company} | Role: ${story.role}</p>
      `;
      storiesContainer.appendChild(div);
    });

    if (visibleCount >= allStories.length) {
      showMoreBtn.style.display = "none";
    }
  }

  showMoreBtn.addEventListener("click", () => {
    visibleCount = allStories.length;
    renderStories();
  });

  loadStories();
</script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, getDocs, query, where } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAAGc7ecwllV_lDS-lOedGgIusj6CVr3iA",
    authDomain: "mindmate-925cb.firebaseapp.com",
    projectId: "mindmate-925cb",
    storageBucket: "mindmate-925cb.appspot.com",
    messagingSenderId: "985607995996",
    appId: "1:985607995996:web:9ed710e18bc5ade43b1c99"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const quoteBox = document.getElementById("quoteBox");

  async function loadQuote() {
    const q = query(
      collection(db, "quotes"),
      where("page", "==", "stories")
    );

    const snapshot = await getDocs(q);
    const quotes = snapshot.docs.map(doc => doc.data().text);

    if (quotes.length > 0) {
      const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
      quoteBox.innerText = `"${randomQuote}"`;
    }
  }

  loadQuote();
</script>



</body>
</html>
